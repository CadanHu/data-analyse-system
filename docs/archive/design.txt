# æ™ºèƒ½æ•°æ®åˆ†æç³»ç»Ÿ Â· æ¨¡å—è§„åˆ’æ–‡æ¡£

---

## ä¸€ã€ç³»ç»Ÿæ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯ React App                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å·¦ä¾§é¢æ¿    â”‚  â”‚      ä¸­é—´é—®ç­”åŒº       â”‚  â”‚  å³ä¾§å›¾è¡¨åŒº    â”‚  â”‚
â”‚  â”‚ ä¼šè¯ç®¡ç†åˆ—è¡¨ â”‚  â”‚  æ¶ˆæ¯æµ + è¾“å…¥æ¡†      â”‚  â”‚ ECharts æ¸²æŸ“  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP / Streamable HTTPï¼ˆæµå¼ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       FastAPI åç«¯                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ä¼šè¯ç®¡ç†æ¨¡å— â”‚  â”‚  LangChain Agentâ”‚  â”‚   æ•°æ®åº“æ“ä½œæ¨¡å—   â”‚  â”‚
â”‚  â”‚Session Routerâ”‚  â”‚  Text-to-SQL    â”‚  â”‚   SQLite3 Executor â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚           DeepSeek API                   â”‚
         â”‚     (é€šè¿‡ OpenAI å…¼å®¹æ¥å£æ¥å…¥)            â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äºŒã€åç«¯æ¨¡å—è§„åˆ’

### ç›®å½•ç»“æ„

```
backend/
â”œâ”€â”€ main.py                    # FastAPI å…¥å£
â”œâ”€â”€ config.py                  # å…¨å±€é…ç½®ï¼ˆAPI Keyã€DBè·¯å¾„ç­‰ï¼‰
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ session_db.py          # ä¼šè¯å…ƒæ•°æ®å­˜å‚¨ï¼ˆSQLiteï¼‰
â”‚   â””â”€â”€ business_db.py         # ä¸šåŠ¡æ•°æ®åº“è¿æ¥ï¼ˆSQLiteï¼‰
â”œâ”€â”€ routers/
â”‚   â”œâ”€â”€ session_router.py      # ä¼šè¯ CRUD æ¥å£
â”‚   â”œâ”€â”€ chat_router.py         # é—®ç­”ä¸»æ¥å£ï¼ˆStreamable HTTP æµå¼ï¼‰
â”‚   â””â”€â”€ schema_router.py       # æ•°æ®åº“è¡¨ç»“æ„æŸ¥è¯¢æ¥å£
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ sql_agent.py           # LangChain Text-to-SQL Agent
â”‚   â”œâ”€â”€ chart_agent.py         # å›¾è¡¨é…ç½®ç”Ÿæˆ Agent
â”‚   â””â”€â”€ memory_manager.py      # ä¸Šä¸‹æ–‡è®°å¿†ç®¡ç†
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ sql_executor.py        # SQL æ‰§è¡Œ + ç»“æœæ ¼å¼åŒ–
â”‚   â”œâ”€â”€ stream_service.py      # Streamable HTTP æµå¼æ¨é€å°è£…
â”‚   â””â”€â”€ schema_service.py      # Schema æå–ä¸ç¼“å­˜
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ session.py             # ä¼šè¯æ•°æ®æ¨¡å‹ï¼ˆPydanticï¼‰
â”‚   â”œâ”€â”€ message.py             # æ¶ˆæ¯æ•°æ®æ¨¡å‹
â”‚   â””â”€â”€ chart.py               # å›¾è¡¨é…ç½®æ¨¡å‹
â””â”€â”€ utils/
    â”œâ”€â”€ prompt_templates.py    # æ‰€æœ‰ Prompt æ¨¡æ¿ç»Ÿä¸€ç®¡ç†
    â””â”€â”€ validators.py          # SQL å®‰å…¨æ ¡éªŒ
```

---

### æ¨¡å— 1ï¼šä¼šè¯ç®¡ç†æ¨¡å—

**èŒè´£**ï¼šç®¡ç†ç”¨æˆ·çš„å¤šä¸ªå¯¹è¯ä¼šè¯ï¼Œæ¯ä¸ªä¼šè¯ç‹¬ç«‹ç»´æŠ¤ä¸Šä¸‹æ–‡ã€‚

```
æ¥å£è®¾è®¡ï¼š

POST   /api/sessions          â†’ åˆ›å»ºæ–°ä¼šè¯ï¼Œè¿”å› session_id
GET    /api/sessions          â†’ è·å–æ‰€æœ‰ä¼šè¯åˆ—è¡¨ï¼ˆå«æ ‡é¢˜ã€æ—¶é—´ï¼‰
GET    /api/sessions/{id}     â†’ è·å–å•ä¸ªä¼šè¯è¯¦æƒ… + å†å²æ¶ˆæ¯
DELETE /api/sessions/{id}     â†’ åˆ é™¤ä¼šè¯
PATCH  /api/sessions/{id}     â†’ é‡å‘½åä¼šè¯æ ‡é¢˜
```

**æ•°æ®è¡¨è®¾è®¡ï¼ˆSQLiteï¼‰**ï¼š

```sql
-- ä¼šè¯è¡¨
CREATE TABLE sessions (
    id          TEXT PRIMARY KEY,    -- UUID
    title       TEXT,                -- ä¼šè¯æ ‡é¢˜ï¼ˆé¦–æ¡æ¶ˆæ¯è‡ªåŠ¨æˆªå–ï¼‰
    database_key TEXT,               -- å…³è”çš„æ•°æ®åº“
    created_at  DATETIME,
    updated_at  DATETIME
);

-- æ¶ˆæ¯è¡¨
CREATE TABLE messages (
    id          TEXT PRIMARY KEY,
    session_id  TEXT,                -- å…³è”ä¼šè¯
    role        TEXT,                -- user / assistant
    content     TEXT,                -- æ¶ˆæ¯æ­£æ–‡
    sql         TEXT,                -- æœ¬æ¡æ¶ˆæ¯ç”Ÿæˆçš„ SQLï¼ˆå¯ä¸ºç©ºï¼‰
    chart_cfg   TEXT,                -- ECharts JSON é…ç½®ï¼ˆå¯ä¸ºç©ºï¼‰
    thinking    TEXT,                -- æ€è€ƒè¿‡ç¨‹ï¼ˆå¯ä¸ºç©ºï¼‰
    data        TEXT,                -- æŸ¥è¯¢ç»“æœæ•°æ®ï¼ˆJSONï¼‰
    created_at  DATETIME,
    FOREIGN KEY (session_id) REFERENCES sessions(id)
);
```

---

### æ¨¡å— 2ï¼šä¸Šä¸‹æ–‡è®°å¿†æ¨¡å—

**èŒè´£**ï¼šè®© DeepSeek åœ¨å¤šè½®å¯¹è¯ä¸­è®°ä½å‰é¢çš„é—®é¢˜å’Œç»“æœï¼Œæ”¯æŒè¿½é—®ï¼ˆå¦‚"å†æŒ‰æœˆä»½æ‹†åˆ†"ï¼‰ã€‚

**å®ç°æ–¹æ¡ˆ**ï¼šä½¿ç”¨ LangChain çš„ `ConversationBufferWindowMemory`ï¼Œæ¯ä¸ª session_id å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„ Memory å®ä¾‹ï¼Œä¿å­˜åœ¨å†…å­˜å­—å…¸ä¸­ï¼›æœåŠ¡é‡å¯æ—¶ä» messages è¡¨é‡å»ºã€‚

```
è®°å¿†ç­–ç•¥ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Memory å¯¹è±¡ï¼ˆæ¯ä¸ª Session ä¸€ä¸ªï¼‰                     â”‚
â”‚                                                      â”‚
â”‚  æœ€è¿‘ N è½®å¯¹è¯ï¼ˆé»˜è®¤ä¿ç•™æœ€è¿‘ 10 è½®ï¼‰                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ User:      æŸ¥è¯¢ä¸Šä¸ªæœˆå„åœ°åŒºçš„é”€å”®é¢              â”‚  â”‚
â”‚  â”‚ Assistant: [SQL] + [ç»“æœæ‘˜è¦] + [å›¾è¡¨å·²ç”Ÿæˆ]    â”‚  â”‚
â”‚  â”‚ User:      å†å¸®æˆ‘æŒ‰äº§å“ç±»å‹ç»†åˆ†                  â”‚  â”‚
â”‚  â”‚ Assistant: [SQL] + [ç»“æœæ‘˜è¦] + [å›¾è¡¨å·²ç”Ÿæˆ]    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                      â”‚
â”‚  è¶…å‡º 10 è½®åï¼Œè‡ªåŠ¨è£å‰ªæœ€æ—©çš„å¯¹è¯ï¼Œä¿ç•™æœ€æ–°ä¸Šä¸‹æ–‡     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ¨¡å— 3ï¼šLangChain SQL Agent

**èŒè´£**ï¼šæ ¸å¿ƒæ¨¡å—ï¼Œå°†ç”¨æˆ·è‡ªç„¶è¯­è¨€è½¬æ¢ä¸º SQL å¹¶æ‰§è¡Œï¼Œæ˜¯æ•´ä¸ªç³»ç»Ÿæœ€é‡è¦çš„éƒ¨åˆ†ã€‚

**å·¥ä½œæµï¼ˆLangChain LCEL é“¾å¼è®¾è®¡ï¼‰**ï¼š

```
ç”¨æˆ·è¾“å…¥
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: Schema æ³¨å…¥             â”‚
â”‚  æå–ä¸šåŠ¡æ•°æ®åº“æ‰€æœ‰è¡¨çš„ DDL ä¿¡æ¯  â”‚
â”‚  æ‹¼å…¥ System Prompt              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: DeepSeek ç”Ÿæˆ SQL       â”‚
â”‚  æºå¸¦å†å²ä¸Šä¸‹æ–‡ + Schema + é—®é¢˜   â”‚
â”‚  è¾“å‡ºç»“æ„åŒ– JSONï¼š               â”‚
â”‚  { "sql": "...", "intent": "..." }â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: SQL å®‰å…¨æ ¡éªŒ            â”‚
â”‚  æ£€æŸ¥æ˜¯å¦åŒ…å« DROP/DELETE/UPDATE  â”‚
â”‚  ç­‰å±é™©æ“ä½œï¼Œåªå…è®¸ SELECT        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ æ ¡éªŒé€šè¿‡
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: æ‰§è¡Œ SQL                â”‚
â”‚  è¿æ¥ SQLite3ï¼Œæ‰§è¡ŒæŸ¥è¯¢           â”‚
â”‚  è¿”å›ç»“æ„åŒ–ç»“æœï¼ˆè¡Œåˆ—æ•°æ®ï¼‰        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 5: æ‰§è¡Œå¤±è´¥ï¼Ÿè‡ªåŠ¨é‡è¯•       â”‚
â”‚  å°†é”™è¯¯ä¿¡æ¯åé¦ˆç»™ DeepSeek        â”‚
â”‚  è®©æ¨¡å‹ä¿®æ­£ SQLï¼Œæœ€å¤šé‡è¯• 2 æ¬¡    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ æ‰§è¡ŒæˆåŠŸ
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 6: ç”Ÿæˆå›¾è¡¨é…ç½® + æ–‡å­—æ€»ç»“  â”‚
â”‚  DeepSeek æ ¹æ®æŸ¥è¯¢ç»“æœ           â”‚
â”‚  è¾“å‡º ECharts option JSON        â”‚
â”‚  + è‡ªç„¶è¯­è¨€åˆ†ææ‘˜è¦              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Prompt æ¨¡æ¿è®¾è®¡**ï¼š

```
System Prompt ç»“æ„ï¼š

ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æåŠ©æ‰‹ï¼Œå¯ä»¥å°†ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€è½¬æ¢ä¸º SQL æŸ¥è¯¢ã€‚

ã€æ•°æ®åº“ä¿¡æ¯ã€‘
{schema}        â† åŠ¨æ€æ³¨å…¥æ‰€æœ‰è¡¨çš„ DDL

ã€å¯¹è¯å†å²ã€‘
{history}       â† LangChain Memory è‡ªåŠ¨å¡«å……

ã€è¾“å‡ºè¦æ±‚ã€‘
å¿…é¡»è¿”å›åˆæ³•çš„ JSON æ ¼å¼ï¼š
{
  "sql": "SELECT ...",
  "chart_type": "bar|line|pie|scatter|table",
  "reasoning": "æˆ‘çš„åˆ†ææ€è·¯..."
}
```

---

### æ¨¡å— 4ï¼šå›¾è¡¨é…ç½®ç”Ÿæˆæ¨¡å—

**èŒè´£**ï¼šå°† SQL æŸ¥è¯¢ç»“æœè½¬æ¢ä¸º ECharts å¯ç›´æ¥ä½¿ç”¨çš„ option é…ç½®ã€‚

```
è¾“å…¥ï¼šSQL æŸ¥è¯¢ç»“æœï¼ˆè¡Œåˆ—æ•°æ®ï¼‰+ chart_type æ„å›¾

è¾“å‡ºï¼šæ ‡å‡† ECharts option JSON

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å›¾è¡¨ç±»å‹æ˜ å°„ç­–ç•¥                                     â”‚
â”‚                                                      â”‚
â”‚  ç”¨æˆ·é—®"è¶‹åŠ¿/å˜åŒ–/èµ°åŠ¿"  â†’  æŠ˜çº¿å›¾ (line)            â”‚
â”‚  ç”¨æˆ·é—®"å¯¹æ¯”/æ’å/æœ€å¤š"  â†’  æŸ±çŠ¶å›¾ (bar)             â”‚
â”‚  ç”¨æˆ·é—®"å æ¯”/æ„æˆ/åˆ†å¸ƒ"  â†’  é¥¼å›¾  (pie)              â”‚
â”‚  ç”¨æˆ·é—®"ç›¸å…³æ€§/åˆ†å¸ƒ"     â†’  æ•£ç‚¹å›¾ (scatter)         â”‚
â”‚  ç»“æœåˆ—æ•° > 5 æˆ–æ— æ˜æ˜¾å›¾è¡¨æ„å›¾  â†’  è¡¨æ ¼ (table)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ¨¡å— 5ï¼šStreamable HTTP æµå¼æ¨é€æ¨¡å—

**èŒè´£**ï¼šå°† Agent æ¯ä¸ªå¤„ç†é˜¶æ®µå®æ—¶æ¨é€åˆ°å‰ç«¯ï¼Œé¿å…ç”¨æˆ·é•¿æ—¶é—´ç­‰å¾…ç™½å±ã€‚

**æŠ€æœ¯æ–¹æ¡ˆ**ï¼šä½¿ç”¨æ ‡å‡† HTTP æµå¼å“åº”ï¼Œæ¯è¡Œä¸€ä¸ª JSON äº‹ä»¶ï¼Œæ¯” SSE æ›´ç®€å•ã€æ›´å…¼å®¹ã€‚

```
æµå¼å“åº”æ ¼å¼è®¾è®¡ï¼š

æ¯è¡Œä¸€ä¸ª JSON å¯¹è±¡ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
{
  "event": "thinking",
  "data": {"content": "æ­£åœ¨ç†è§£æ‚¨çš„é—®é¢˜..."}
}

{
  "event": "schema_loaded",  
  "data": {"tables": ["orders", "users", "products"]}
}

{
  "event": "sql_generated",
  "data": {"sql": "SELECT region, SUM(amount) FROM orders..."}
}

{
  "event": "sql_executing",
  "data": {"content": "æ­£åœ¨æŸ¥è¯¢æ•°æ®åº“..."}
}

{
  "event": "sql_result",
  "data": {"rows": [...], "columns": [...], "row_count": 128}
}

{
  "event": "chart_ready",
  "data": {"option": { ECharts option JSON }, "chart_type": "bar"}
}

{
  "event": "summary",
  "data": {"content": "æœ¬æœˆåä¸œåœ°åŒºé”€å”®é¢æœ€é«˜ï¼Œè¾¾åˆ° 320 ä¸‡å…ƒ..."}
}

{
  "event": "done",
  "data": {"message_id": "xxx"}
}
```

**å®ç°ç»†èŠ‚**ï¼š

```python
# backend/services/stream_service.py

class StreamableHTTPService:
    """æµå¼ HTTP æœåŠ¡ç±»ï¼Œç”¨äºç”Ÿæˆæµå¼ JSON å“åº”"""

    @staticmethod
    async def generate_stream(event_generator):
        """
        å°†äº‹ä»¶ç”Ÿæˆå™¨è½¬æ¢ä¸ºæµå¼ JSON å“åº”
        
        æ¯è¡Œä¸€ä¸ª JSON å¯¹è±¡ï¼Œæ ¼å¼ï¼š{"event": "xxx", "data": {...}}
        """
        async for event in event_generator:
            event_type = event.get("event")
            event_data = event.get("data", {})
            
            yield json.dumps({
                "event": event_type,
                "data": event_data
            }, ensure_ascii=False) + "\n"

    @staticmethod
    def get_response_headers():
        """è·å–æµå¼å“åº”çš„ HTTP å¤´"""
        return {
            "Content-Type": "application/json; charset=utf-8",
            "Transfer-Encoding": "chunked",
            "Cache-Control": "no-cache",
            "X-Accel-Buffering": "no"
        }
```

**å‰ç«¯å¤„ç†**ï¼š

```typescript
// frontend/src/hooks/useSSE.ts

// è¯»å–æµå¼å“åº”
const reader = response.body?.getReader()
const decoder = new TextDecoder()
let buffer = ''

while (true) {
  const { done, value } = await reader.read()
  if (done) break

  buffer += decoder.decode(value, { stream: true })
  const lines = buffer.split('\n')
  buffer = lines.pop() || ''

  for (const line of lines) {
    if (!line.trim()) continue

    // è§£ææ¯è¡Œçš„ JSON å¯¹è±¡
    const event = JSON.parse(line)
    const eventType = event.event
    const eventData = event.data || {}

    // æ ¹æ®äº‹ä»¶ç±»å‹å¤„ç†
    switch (eventType) {
      case 'thinking':
        // å¤„ç†æ€è€ƒäº‹ä»¶
        break
      case 'sql_generated':
        // å¤„ç† SQL ç”Ÿæˆäº‹ä»¶
        break
      // ... å…¶ä»–äº‹ä»¶
    }
  }
}
```

**ä¼˜åŠ¿å¯¹æ¯”**ï¼š

| ç‰¹æ€§ | SSE (Server-Sent Events) | Streamable HTTP |
|------|--------------------------|----------------|
| åè®® | è‡ªå®šä¹‰ text/event-stream | æ ‡å‡† HTTP + JSON |
| æµè§ˆå™¨å…¼å®¹æ€§ | éœ€è¦ç‰¹æ®Šå¤„ç† | å®Œå…¨å…¼å®¹ |
| è§£æå¤æ‚åº¦ | éœ€è¦è§£æ event: å’Œ data: | ç›´æ¥ JSON.parse |
| è°ƒè¯•å‹å¥½åº¦ | è¾ƒä½ | é«˜ï¼ˆå¯è¯» JSONï¼‰ |
| é”™è¯¯å¤„ç† | å¤æ‚ | ç®€å• |
| å®ç°å¤æ‚åº¦ | è¾ƒé«˜ | ä½ |

---

## ä¸‰ã€å‰ç«¯æ¨¡å—è§„åˆ’

### ç›®å½•ç»“æ„

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ main.tsx
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ sessionApi.ts       # ä¼šè¯å¢åˆ æ”¹æŸ¥è¯·æ±‚
â”‚   â”‚   â””â”€â”€ chatApi.ts          # æµå¼è¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”œâ”€â”€ sessionStore.ts     # Zustandï¼šä¼šè¯åˆ—è¡¨çŠ¶æ€
â”‚   â”‚   â””â”€â”€ chatStore.ts        # Zustandï¼šæ¶ˆæ¯æµ + å›¾è¡¨çŠ¶æ€
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ LeftPanel.tsx   # å·¦ä¾§ä¼šè¯ç®¡ç†é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ MiddlePanel.tsx # ä¸­é—´é—®ç­”åŒºåŸŸ
â”‚   â”‚   â”‚   â””â”€â”€ RightPanel.tsx  # å³ä¾§å›¾è¡¨å±•ç¤ºåŒº
â”‚   â”‚   â”œâ”€â”€ session/
â”‚   â”‚   â”‚   â”œâ”€â”€ SessionList.tsx      # ä¼šè¯åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ SessionItem.tsx      # å•æ¡ä¼šè¯é¡¹
â”‚   â”‚   â”‚   â””â”€â”€ NewSessionBtn.tsx    # æ–°å»ºä¼šè¯æŒ‰é’®
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageList.tsx      # æ¶ˆæ¯æµåˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageItem.tsx      # å•æ¡æ¶ˆæ¯ï¼ˆå« SQL ä»£ç å—ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ ThinkingIndicator.tsx # æ€è€ƒä¸­åŠ¨ç”»
â”‚   â”‚   â”‚   â”œâ”€â”€ SqlBlock.tsx         # SQL ä»£ç é«˜äº®å±•ç¤º
â”‚   â”‚   â”‚   â””â”€â”€ InputBar.tsx         # åº•éƒ¨è¾“å…¥æ¡†
â”‚   â”‚   â””â”€â”€ chart/
â”‚   â”‚       â”œâ”€â”€ ChartPanel.tsx       # å›¾è¡¨å®¹å™¨
â”‚   â”‚       â”œâ”€â”€ EChartsRenderer.tsx  # ECharts æ¸²æŸ“æ ¸å¿ƒç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ ChartTypeTabs.tsx    # å›¾è¡¨ç±»å‹åˆ‡æ¢
â”‚   â”‚       â””â”€â”€ DataTable.tsx        # åŸå§‹æ•°æ®è¡¨æ ¼å±•ç¤º
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useSSE.ts           # æµå¼è¿æ¥ä¸äº‹ä»¶å¤„ç† Hook
â”‚   â”‚   â””â”€â”€ useChart.ts         # å›¾è¡¨çŠ¶æ€ç®¡ç† Hook
â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ session.ts
â”‚       â”œâ”€â”€ message.ts
â”‚       â””â”€â”€ chart.ts
```

---

### ä¸‰æ å¸ƒå±€è§„åˆ’

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å·¦ä¾§é¢æ¿     â”‚        ä¸­é—´é—®ç­”åŒº              â”‚     å³ä¾§å›¾è¡¨åŒº        â”‚
â”‚  å®½ï¼š260px   â”‚     flex: 1ï¼ˆè‡ªé€‚åº”ï¼‰          â”‚     å®½ï¼š420px        â”‚
â”‚              â”‚                              â”‚                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ + æ–°å¯¹è¯  â”‚ â”‚  â”‚  æ¶ˆæ¯ 1ï¼ˆç”¨æˆ·ï¼‰         â”‚  â”‚  â”‚  å›¾è¡¨æ ‡é¢˜       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  æ¶ˆæ¯ 2ï¼ˆAI å›å¤ï¼‰       â”‚  â”‚  â”‚  [åˆ‡æ¢: æŸ±/æŠ˜/ â”‚  â”‚
â”‚              â”‚  â”‚   â”œ æ€è€ƒè¿‡ç¨‹æŠ˜å å—       â”‚  â”‚  â”‚   é¥¼/è¡¨æ ¼]     â”‚  â”‚
â”‚  ä»Šå¤©         â”‚  â”‚   â”œ SQL ä»£ç å—          â”‚  â”‚  â”‚                â”‚  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚   â”œ æ•°æ®æ‘˜è¦æ–‡å­—        â”‚  â”‚  â”‚                â”‚  â”‚
â”‚ â”‚ é”€å”®åˆ†æ  â”‚ â”‚  â”‚   â”” å›¾è¡¨å·²ç”Ÿæˆæç¤º      â”‚  â”‚  â”‚  ECharts å›¾è¡¨  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  æ¶ˆæ¯ 3ï¼ˆç”¨æˆ·è¿½é—®ï¼‰      â”‚  â”‚  â”‚    æ¸²æŸ“åŒºåŸŸ     â”‚  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  æ¶ˆæ¯ 4ï¼ˆAI å›å¤ï¼‰       â”‚  â”‚  â”‚                â”‚  â”‚
â”‚ â”‚ ç”¨æˆ·ç”»åƒ  â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                              â”‚                      â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  æ˜¨å¤©         â”‚  â”‚  ğŸ¤” æ­£åœ¨ç”Ÿæˆ SQL...     â”‚  â”‚  â”‚  åŸå§‹æ•°æ®è¡¨æ ¼   â”‚  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ æµå¼è¾“å‡º    â”‚  â”‚  â”‚  å¯æŠ˜å /å±•å¼€   â”‚  â”‚
â”‚ â”‚ åº“å­˜è¶‹åŠ¿  â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                              â”‚                      â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚              â”‚  â”‚ è¾“å…¥æ¡†                  â”‚  â”‚  â”‚  å¯¼å‡ºæŒ‰é’®       â”‚  â”‚
â”‚              â”‚  â”‚ [å‘é€]                  â”‚  â”‚  â”‚ PNG / CSV / SQLâ”‚  â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### å‰ç«¯æ ¸å¿ƒäº¤äº’æµç¨‹

```
ç”¨æˆ·åœ¨è¾“å…¥æ¡†å‘é€æ¶ˆæ¯
         â”‚
         â–¼
chatStore æ·»åŠ  user æ¶ˆæ¯åˆ°åˆ—è¡¨
         â”‚
         â–¼
è°ƒç”¨ useSSE Hookï¼Œå»ºç«‹æµå¼ HTTP è¿æ¥
         â”‚
         â–¼
ç›‘å¬å„ç±»æµå¼äº‹ä»¶ï¼Œå®æ—¶æ›´æ–° UIï¼š

  event: thinking      â†’ ä¸­é—´åŒºæ˜¾ç¤º"æ€è€ƒä¸­"åŠ¨ç”»
  event: sql_generated â†’ ä¸­é—´åŒºæ¸²æŸ“ SQL ä»£ç å—
  event: sql_result    â†’ å³ä¾§å›¾è¡¨åŒºå‡†å¤‡æ•°æ®
  event: chart_ready   â†’ å³ä¾§ EChartsRenderer æ¥æ”¶ optionï¼Œæ¸²æŸ“å›¾è¡¨
  event: summary       â†’ ä¸­é—´åŒºæµå¼è¾“å‡ºæ–‡å­—æ€»ç»“
  event: done          â†’ å…³é—­è¿æ¥ï¼Œä¿å­˜å®Œæ•´æ¶ˆæ¯åˆ° store
```

---

## å››ã€å…³é”®æ¥å£æ€»è§ˆ

```
åç«¯ API æ±‡æ€»ï¼š

ä¼šè¯ç®¡ç†ï¼š
  POST   /api/sessions                  åˆ›å»ºä¼šè¯
  GET    /api/sessions                  ä¼šè¯åˆ—è¡¨
  GET    /api/sessions/{id}/messages    ä¼šè¯å†å²æ¶ˆæ¯
  DELETE /api/sessions/{id}             åˆ é™¤ä¼šè¯
  PATCH  /api/sessions/{id}             é‡å‘½å

æ ¸å¿ƒé—®ç­”ï¼š
  POST   /api/chat/stream               å‘é€æ¶ˆæ¯ï¼ˆStreamable HTTP æµå¼è¿”å›ï¼‰
  Body:  { session_id, question, enable_thinking }

æ•°æ®åº“å…ƒä¿¡æ¯ï¼š
  GET    /api/schema                    è·å–æ‰€æœ‰è¡¨ç»“æ„ï¼ˆä¾›å‰ç«¯å±•ç¤ºï¼‰
  GET    /api/databases                 è·å–æ‰€æœ‰å¯ç”¨æ•°æ®åº“
  POST   /api/database/switch           åˆ‡æ¢æ•°æ®åº“
```

---

## äº”ã€å¼€å‘é˜¶æ®µå»ºè®®

```
é˜¶æ®µ 1ï¼ˆ1-2å¤©ï¼‰ï¼šç¯å¢ƒæ­å»º
  â”œâ”€â”€ FastAPI é¡¹ç›®åˆå§‹åŒ– + æ¥å…¥ DeepSeek API
  â”œâ”€â”€ SQLite ä¸šåŠ¡æ•°æ®åº“å‡†å¤‡ï¼ˆå»ºè¡¨ + å½•å…¥æµ‹è¯•æ•°æ®ï¼‰
  â””â”€â”€ React é¡¹ç›®åˆå§‹åŒ– + ä¸‰æ å¸ƒå±€éª¨æ¶

é˜¶æ®µ 2ï¼ˆ2-3å¤©ï¼‰ï¼šæ ¸å¿ƒé“¾è·¯è·‘é€š
  â”œâ”€â”€ åç«¯ï¼šLangChain SQL Agent å®ç°ï¼ˆSchemaæ³¨å…¥ â†’ SQLç”Ÿæˆ â†’ æ‰§è¡Œï¼‰
  â”œâ”€â”€ åç«¯ï¼šStreamable HTTP æµå¼æ¨é€æ¥å£å®ç°
  â””â”€â”€ å‰ç«¯ï¼šuseSSE Hook + æ¶ˆæ¯æµæ¸²æŸ“

é˜¶æ®µ 3ï¼ˆ2å¤©ï¼‰ï¼šä¼šè¯ä¸è®°å¿†
  â”œâ”€â”€ ä¼šè¯ CRUD æ¥å£ + å‰ç«¯å·¦ä¾§é¢æ¿
  â””â”€â”€ ConversationBufferWindowMemory æ¥å…¥ï¼ŒéªŒè¯å¤šè½®è¿½é—®

é˜¶æ®µ 4ï¼ˆ2å¤©ï¼‰ï¼šå›¾è¡¨æ¸²æŸ“
  â”œâ”€â”€ ECharts é›†æˆ + å›¾è¡¨ç±»å‹è‡ªåŠ¨é€‰æ‹©
  â”œâ”€â”€ å‰ç«¯å³ä¾§å›¾è¡¨é¢æ¿å®ç°
  â””â”€â”€ æ•°æ®è¡¨æ ¼ + å¯¼å‡ºåŠŸèƒ½

é˜¶æ®µ 5ï¼ˆ1-2å¤©ï¼‰ï¼šç¨³å®šæ€§ä¸ä½“éªŒ
  â”œâ”€â”€ SQL å®‰å…¨æ ¡éªŒ + é”™è¯¯é‡è¯•æœºåˆ¶
  â”œâ”€â”€ åŠ è½½çŠ¶æ€ã€ç©ºçŠ¶æ€ã€é”™è¯¯çŠ¶æ€ UI
  â””â”€â”€ è”è°ƒæµ‹è¯•
```

---

## å…­ã€æŠ€æœ¯é€‰å‹è¯´æ˜

### æµå¼é€šä¿¡æ–¹æ¡ˆï¼šStreamable HTTP vs SSE

**æœ€ç»ˆé€‰æ‹©ï¼šStreamable HTTP**

**ç†ç”±**ï¼š
1. **æ›´ç®€å•**ï¼šç›´æ¥ä½¿ç”¨æ ‡å‡† HTTP + JSONï¼Œæ— éœ€ç‰¹æ®Šçš„ SSE åè®®è§£æ
2. **æ›´å…¼å®¹**ï¼šæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†
3. **æ›´æ˜“è°ƒè¯•**ï¼šå“åº”å†…å®¹æ˜¯å¯è¯»çš„ JSONï¼Œä¾¿äºè°ƒè¯•å’Œæµ‹è¯•
4. **æ›´æ˜“ç»´æŠ¤**ï¼šä»£ç æ›´ç®€æ´ï¼Œé”™è¯¯å¤„ç†æ›´ç®€å•

**å®ç°ç»†èŠ‚**ï¼š
- åç«¯ï¼šä½¿ç”¨ `StreamingResponse` + `application/json` Content-Type
- æ¯è¡Œä¸€ä¸ª JSON å¯¹è±¡ï¼š`{"event": "xxx", "data": {...}}`
- å‰ç«¯ï¼šä½¿ç”¨ `fetch` + `ReadableStream` API é€è¡Œè¯»å–
- è§£æï¼š`JSON.parse(line)` å³å¯

**æ€§èƒ½**ï¼š
- ä¸ SSE æ€§èƒ½ç›¸å½“
- æ”¯æŒåˆ†å—ä¼ è¾“ï¼ˆTransfer-Encoding: chunkedï¼‰
- å¯è®¾ç½® Cache-Control: no-cache é¿å…ç¼“å­˜

---

## ä¸ƒã€æ•°æ®åº“è®¾è®¡

### ä¸šåŠ¡æ•°æ®åº“

```sql
-- ç”¨æˆ·è¡¨
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    email TEXT UNIQUE,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- äº§å“è¡¨
CREATE TABLE products (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    price REAL NOT NULL,
    category TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- è®¢å•è¡¨
CREATE TABLE orders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    product_id INTEGER,
    quantity INTEGER DEFAULT 1,
    total REAL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (product_id) REFERENCES products(id)
);
```

### æµ‹è¯•æ•°æ®åº“

1. **Chinook éŸ³ä¹æ•°æ®åº“**
   - åŒ…å«è‰ºæœ¯å®¶ã€ä¸“è¾‘ã€æ›²ç›®ã€æ’­æ”¾åˆ—è¡¨ç­‰è¡¨
   - é€‚åˆæµ‹è¯•éŸ³ä¹æ•°æ®åˆ†æåœºæ™¯

2. **Northwind å•†ä¸šæ•°æ®åº“**
   - åŒ…å«å®¢æˆ·ã€è®¢å•ã€äº§å“ã€å‘˜å·¥ç­‰è¡¨
   - é€‚åˆæµ‹è¯•å•†ä¸šæ•°æ®åˆ†æåœºæ™¯

---

## å…«ã€å®‰å…¨è€ƒè™‘

1. **SQL æ³¨å…¥é˜²æŠ¤**
   - åªå…è®¸ SELECT æŸ¥è¯¢
   - ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
   - æ‹¦æˆª DROP/DELETE/UPDATE/INSERT ç­‰å±é™©æ“ä½œ

2. **API Key ä¿æŠ¤**
   - ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨
   - ä¸æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
   - å®šæœŸè½®æ¢

3. **æ•°æ®è®¿é—®æ§åˆ¶**
   - æ¯ä¸ªä¼šè¯ç‹¬ç«‹éš”ç¦»
   - ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„ä¼šè¯æ•°æ®

---

## ä¹ã€æ€§èƒ½ä¼˜åŒ–

1. **æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–**
   - æ·»åŠ å¿…è¦çš„ç´¢å¼•
   - é™åˆ¶è¿”å›ç»“æœæ•°é‡
   - ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢

2. **æµå¼å“åº”ä¼˜åŒ–**
   - åŠæ—¶å‘é€äº‹ä»¶ï¼Œé¿å…å‰ç«¯ç­‰å¾…
   - ä½¿ç”¨ chunked ç¼–ç 
   - è®¾ç½®åˆç†çš„ç¼“å­˜ç­–ç•¥

3. **å‰ç«¯æ¸²æŸ“ä¼˜åŒ–**
   - ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§é‡æ¶ˆæ¯
   - æ‡’åŠ è½½å›¾è¡¨æ•°æ®
   - é˜²æŠ–å¤„ç†ç”¨æˆ·è¾“å…¥

---

## åã€æœªæ¥æ‰©å±•æ–¹å‘

1. **å¤šæ•°æ®åº“æ”¯æŒ** âœ… å·²å®Œæˆ
   - æ”¯æŒ MySQLã€PostgreSQLã€SQLite ç­‰å…¶ä»–æ•°æ®åº“
   - æ•°æ®åº“è¿æ¥æ± ç®¡ç†
   - é›†æˆ Chinook å’Œ Northwind æ•°æ®åº“

2. **æ›´å¤šå›¾è¡¨ç±»å‹**
   - åœ°å›¾å¯è§†åŒ–
   - çƒ­åŠ›å›¾
   - æ ‘çŠ¶å›¾

3. **é«˜çº§åˆ†æåŠŸèƒ½**
   - è¶‹åŠ¿é¢„æµ‹
   - å¼‚å¸¸æ£€æµ‹
   - æ•°æ®æŒ–æ˜

4. **åä½œåŠŸèƒ½**
   - åˆ†äº«åˆ†æç»“æœ
   - å¤šäººåä½œç¼–è¾‘
   - æƒé™ç®¡ç†

5. **å¯¼å‡ºåŠŸèƒ½**
   - PDF æŠ¥å‘Šç”Ÿæˆ
   - Excel å¯¼å‡º
   - å›¾ç‰‡å¯¼å‡º

---

## åä¸€ã€v1.2.0 æ–°å¢åŠŸèƒ½è¯¦è§£

### 11.1 DeepSeek æ¨ç†æ¨¡å‹é›†æˆ

**åŠŸèƒ½æè¿°**ï¼šé›†æˆ DeepSeek AI æ¨¡å‹ï¼Œæä¾›å¼ºå¤§çš„è‡ªç„¶è¯­è¨€ç†è§£å’Œ SQL ç”Ÿæˆèƒ½åŠ›ã€‚

**æŠ€æœ¯å®ç°**ï¼š
- ä½¿ç”¨ OpenAI SDK å…¼å®¹æ–¹å¼æ¥å…¥ DeepSeek API
- Base URL: `https://api.deepseek.com`
- æ¨¡å‹: `deepseek-chat`

**é…ç½®æ–¹å¼**ï¼š
```python
# backend/config.py
DEEPSEEK_API_KEY = os.getenv("DEEPSEEK_API_KEY")
DEEPSEEK_BASE_URL = "https://api.deepseek.com"
DEEPSEEK_MODEL = "deepseek-chat"
```

**API è°ƒç”¨ç¤ºä¾‹**ï¼š
```python
from openai import OpenAI

client = OpenAI(
    api_key=DEEPSEEK_API_KEY,
    base_url=DEEPSEEK_BASE_URL
)

response = client.chat.completions.create(
    model=DEEPSEEK_MODEL,
    messages=[...],
    extra_body={"thinking": {"type": "enabled"}}  # å¯ç”¨æ€è€ƒæ¨¡å¼
)
```

---

### 11.2 æ€è€ƒæ¨¡å¼åŠŸèƒ½

**åŠŸèƒ½æè¿°**ï¼šå±•ç¤º AI çš„åˆ†ææ€è·¯ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£ SQL æŸ¥è¯¢çš„ç”Ÿæˆè¿‡ç¨‹ã€‚

**UI è®¾è®¡**ï¼š
- è¾“å…¥æ¡†æ—è¾¹æ·»åŠ ç¯æ³¡å›¾æ ‡æŒ‰é’®
- é»˜è®¤å…³é—­ï¼Œç‚¹å‡»å¼€å¯
- å¼€å¯å AI å›å¤ä¸­åŒ…å« `reasoning_content` å­—æ®µ
- æ€è€ƒè¿‡ç¨‹é»˜è®¤æŠ˜å ï¼Œç‚¹å‡»å±•å¼€æŸ¥çœ‹

**å‰ç«¯å®ç°**ï¼š
```typescript
// MessageItem.tsx
{message.thinking && (
  <div className="thinking-process">
    <button onClick={() => setShowThinking(!showThinking)}>
      <svg>ç¯æ³¡å›¾æ ‡</svg>
      æ€è€ƒè¿‡ç¨‹
    </button>
    {showThinking && (
      <div className="thinking-content">
        {message.thinking}
      </div>
    )}
  </div>
)}
```

**åç«¯å®ç°**ï¼š
```python
# chat_router.py
if enable_thinking:
    response = client.chat.completions.create(
        model=DEEPSEEK_MODEL,
        messages=[...],
        extra_body={"thinking": {"type": "enabled"}}
    )
    reasoning = response.choices[0].message.reasoning_content
```

---

### 11.3 æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

**åŠŸèƒ½æè¿°**ï¼šæ”¯æŒä¸Šä¼ å›¾ç‰‡å’Œæ–‡æ¡£æ–‡ä»¶ï¼ŒAI è‡ªåŠ¨åˆ†ææ–‡ä»¶å†…å®¹ã€‚

**UI è®¾è®¡**ï¼š
- è¾“å…¥æ¡†æ—è¾¹æ·»åŠ åŠ å·æŒ‰é’®
- ç‚¹å‡»æ˜¾ç¤ºä¸Šä¼ èœå•
- æ”¯æŒå›¾ç‰‡ï¼ˆPNGã€JPGã€GIFï¼‰å’Œæ–‡æ¡£ï¼ˆPDFã€TXTã€CSVï¼‰
- æ˜¾ç¤ºä¸Šä¼ è¿›åº¦

**å‰ç«¯å®ç°**ï¼š
```typescript
// InputBar.tsx
const handleFileUpload = async (file: File) => {
  const formData = new FormData()
  formData.append('file', file)
  
  const response = await fetch('/api/upload', {
    method: 'POST',
    body: formData
  })
  
  const result = await response.json()
  // å°†æ–‡ä»¶ä¿¡æ¯æ·»åŠ åˆ°æ¶ˆæ¯ä¸­
}
```

**åç«¯å®ç°**ï¼š
```python
# upload_router.py
@router.post("/upload")
async def upload_file(file: UploadFile):
    content = await file.read()
    
    # æ ¹æ®æ–‡ä»¶ç±»å‹å¤„ç†
    if file.content_type.startswith('image/'):
        # å›¾ç‰‡è¯†åˆ«
        result = await analyze_image(content)
    else:
        # æ–‡æ¡£è§£æ
        result = await parse_document(content, file.filename)
    
    return {"content": result}
```

---

### 11.4 å¤šæ•°æ®åº“æ”¯æŒ

**åŠŸèƒ½æè¿°**ï¼šæ”¯æŒå¤šä¸ªæ•°æ®åº“ï¼Œæ¯ä¸ªä¼šè¯ç‹¬ç«‹é€‰æ‹©æ•°æ®åº“ã€‚

**æ•°æ®åº“é…ç½®**ï¼š
```python
# backend/config.py
DATABASES = {
    "business": {
        "path": "data/business.db",
        "name": "ä¸šåŠ¡æ•°æ®åº“"
    },
    "chinook": {
        "path": "data/Chinook_Sqlite.sqlite",
        "name": "Chinook éŸ³ä¹æ•°æ®åº“"
    },
    "northwind": {
        "path": "data/Northwind_large.sqlite",
        "name": "Northwind å•†ä¸šæ•°æ®åº“"
    }
}
```

**ä¼šè¯ä¸æ•°æ®åº“ç»‘å®š**ï¼š
```sql
-- sessions è¡¨æ·»åŠ  database_key å­—æ®µ
ALTER TABLE sessions ADD COLUMN database_key TEXT DEFAULT 'business';
```

**æ•°æ®åº“åˆ‡æ¢æ¥å£**ï¼š
```python
@router.post("/database/switch")
async def switch_database(session_id: str, database_key: str):
    # æ›´æ–°ä¼šè¯çš„æ•°æ®åº“
    await session_db.update_database(session_id, database_key)
    
    # è¿”å›æ–°æ•°æ®åº“çš„ schema
    schema = await schema_service.get_schema(database_key)
    return {"schema": schema}
```

**å‰ç«¯æ•°æ®åº“é€‰æ‹©å™¨**ï¼š
```typescript
// SessionList.tsx
<select 
  value={currentDatabase}
  onChange={(e) => handleDatabaseChange(e.target.value)}
>
  <option value="business">ä¸šåŠ¡æ•°æ®åº“</option>
  <option value="chinook">Chinook éŸ³ä¹æ•°æ®åº“</option>
  <option value="northwind">Northwind å•†ä¸šæ•°æ®åº“</option>
</select>
```

---

### 11.5 æ–°å¢é¡µé¢

#### 11.5.1 æ•™ç¨‹é¡µé¢ (Tutorial.tsx)

**åŠŸèƒ½æè¿°**ï¼šæä¾› 6 ä¸ªè¯¦ç»†æ­¥éª¤ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿä¸Šæ‰‹ç³»ç»Ÿã€‚

**é¡µé¢ç»“æ„**ï¼š
```
æ•™ç¨‹é¡µé¢
â”œâ”€â”€ å¯¼èˆªæ ï¼ˆé¦–é¡µã€æ•™ç¨‹ã€å…³äºã€è¿›å…¥åº”ç”¨ï¼‰
â”œâ”€â”€ æ ‡é¢˜åŒºï¼ˆä½¿ç”¨æ•™ç¨‹ - å¿«é€Ÿä¸Šæ‰‹ï¼‰
â”œâ”€â”€ æ­¥éª¤åˆ—è¡¨ï¼ˆå¯æŠ˜å ï¼‰
â”‚   â”œâ”€â”€ æ­¥éª¤ 1ï¼šå¼€å§‹æ‚¨çš„ç¬¬ä¸€ä¸ªå¯¹è¯
â”‚   â”œâ”€â”€ æ­¥éª¤ 2ï¼šç†è§£ AI çš„æ€è€ƒè¿‡ç¨‹
â”‚   â”œâ”€â”€ æ­¥éª¤ 3ï¼šæŸ¥çœ‹å’Œå¤åˆ¶ SQL è¯­å¥
â”‚   â”œâ”€â”€ æ­¥éª¤ 4ï¼šæ¢ç´¢æ•°æ®å¯è§†åŒ–
â”‚   â”œâ”€â”€ æ­¥éª¤ 5ï¼šç®¡ç†æ‚¨çš„ä¼šè¯
â”‚   â””â”€â”€ æ­¥éª¤ 6ï¼šåˆ‡æ¢æ•°æ®åº“
â””â”€â”€ åº•éƒ¨æç¤ºï¼ˆå®Œæˆæ•™ç¨‹åï¼Œç‚¹å‡»è¿›å…¥åº”ç”¨ï¼‰
```

**è·¯ç”±é…ç½®**ï¼š
```typescript
// App.tsx
<Route path="/tutorial" element={<Tutorial />} />
```

---

#### 11.5.2 åŠŸèƒ½ç‰¹æ€§é¡µé¢ (Features.tsx)

**åŠŸèƒ½æè¿°**ï¼šå±•ç¤º 12 ä¸ªæ ¸å¿ƒåŠŸèƒ½çš„è¯¦ç»†ä»‹ç»ã€‚

**åŠŸèƒ½åˆ†ç±»**ï¼š
```
åŠŸèƒ½ç‰¹æ€§é¡µé¢
â”œâ”€â”€ æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ æ™ºèƒ½ SQL ç”Ÿæˆ
â”‚   â””â”€â”€ å®æ—¶æ•°æ®å¯è§†åŒ–
â”œâ”€â”€ AI èƒ½åŠ›
â”‚   â”œâ”€â”€ AI æ€è€ƒæ¨¡å¼
â”‚   â”œâ”€â”€ æ™ºèƒ½æ€»ç»“
â”‚   â””â”€â”€ å¤šè½®å¯¹è¯
â”œâ”€â”€ æ•°æ®ç®¡ç†
â”‚   â””â”€â”€ å¤šæ•°æ®æºæ”¯æŒ
â”œâ”€â”€ å¢å¼ºåŠŸèƒ½
â”‚   â”œâ”€â”€ æ–‡ä»¶ä¸Šä¼ ä¸åˆ†æ
â”‚   â””â”€â”€ SQL ä»£ç ç®¡ç†
â”œâ”€â”€ ç”¨æˆ·ä½“éªŒ
â”‚   â”œâ”€â”€ ä¼šè¯ç®¡ç†
â”‚   â””â”€â”€ å“åº”å¼è®¾è®¡
â”œâ”€â”€ æŠ€æœ¯ç‰¹æ€§
â”‚   â””â”€â”€ æµå¼å“åº”
â”œâ”€â”€ å¼€å‘è€…å·¥å…·
â”‚   â””â”€â”€ SQL ä»£ç ç®¡ç†
â””â”€â”€ å®‰å…¨ç‰¹æ€§
    â””â”€â”€ æ•°æ®å®‰å…¨
```

**è·¯ç”±é…ç½®**ï¼š
```typescript
// App.tsx
<Route path="/features" element={<Features />} />
```

---

#### 11.5.3 æ›´æ–°æ—¥å¿—é¡µé¢ (Changelog.tsx)

**åŠŸèƒ½æè¿°**ï¼šè¿½è¸ªç³»ç»Ÿæ›´æ–°å’Œæ”¹è¿›å†å²ã€‚

**ç‰ˆæœ¬è®°å½•**ï¼š
```
æ›´æ–°æ—¥å¿—é¡µé¢
â”œâ”€â”€ v1.2.0 (æœ€æ–°ç‰ˆæœ¬)
â”‚   â”œâ”€â”€ ç‰ˆæœ¬äº®ç‚¹
â”‚   â”‚   â”œâ”€â”€ æ–°å¢ DeepSeek æ¨ç†æ¨¡å‹æ”¯æŒ
â”‚   â”‚   â”œâ”€â”€ æ·»åŠ æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ é›†æˆ Chinook å’Œ Northwind æ•°æ®åº“
â”‚   â””â”€â”€ è¯¦ç»†æ›´æ–°
â”‚       â”œâ”€â”€ æ–°å¢åŠŸèƒ½
â”‚       â”œâ”€â”€ æ”¹è¿›ä¼˜åŒ–
â”‚       â””â”€â”€ é—®é¢˜ä¿®å¤
â”œâ”€â”€ v1.1.0 (ç¨³å®šç‰ˆæœ¬)
â”‚   â””â”€â”€ ...
â””â”€â”€ v1.0.0 (ç¨³å®šç‰ˆæœ¬)
    â””â”€â”€ ...
```

**è·¯ç”±é…ç½®**ï¼š
```typescript
// App.tsx
<Route path="/changelog" element={<Changelog />} />
```

---

### 11.6 å…¶ä»–ä¼˜åŒ–

#### 11.6.1 SQL è¯­å¥æ˜¾ç¤º/æŠ˜å 

**åŠŸèƒ½æè¿°**ï¼šæ·»åŠ  SQL è¯­å¥æ˜¾ç¤º/æŠ˜å æŒ‰é’®ï¼Œä¼˜åŒ–ç•Œé¢æ˜¾ç¤ºã€‚

**å®ç°æ–¹å¼**ï¼š
```typescript
// MessageItem.tsx
<div className="sql-block">
  <button onClick={() => setShowSql(!showSql)}>
    {showSql ? 'æŠ˜å ' : 'å±•å¼€'} SQL
  </button>
  {showSql && (
    <pre><code>{message.sql}</code></pre>
  )}
</div>
```

#### 11.6.2 ä¼šè¯ç®¡ç†ä¼˜åŒ–

**ä¿®å¤çš„é—®é¢˜**ï¼š
- åˆ é™¤ä¼šè¯åèŠå¤©åŒºä»æ˜¾ç¤ºæ—§æ¶ˆæ¯
- åˆ‡æ¢ä¼šè¯æ—¶èŠå¤©å†…å®¹ä¸æ›´æ–°
- æ–°å»ºä¼šè¯åå¯¹è¯æ æœªæ¸…ç©º

**å®ç°æ–¹å¼**ï¼š
```typescript
// SessionList.tsx
const handleDeleteSession = async (sessionId: string) => {
  await sessionApi.deleteSession(sessionId)
  
  // æ¸…ç©ºå½“å‰æ¶ˆæ¯
  if (selectedSessionId === sessionId) {
    clearMessages()
    setSelectedSessionId(null)
  }
  
  // é‡æ–°åŠ è½½ä¼šè¯åˆ—è¡¨
  onSessionsUpdated()
}
```

#### 11.6.3 UUID ç”Ÿæˆ

**åŠŸèƒ½æè¿°**ï¼šä½¿ç”¨ UUID ç”Ÿæˆå”¯ä¸€ IDï¼Œé¿å…é‡å¤ key é—®é¢˜ã€‚

**å®ç°æ–¹å¼**ï¼š
```typescript
// useSSE.ts
function generateId(): string {
  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
    const r = Math.random() * 16 | 0
    const v = c === 'x' ? r : (r & 0x3 | 0x8)
    return v.toString(16)
  })
}
```

---

## åäºŒã€ç‰ˆæœ¬å†å²

### v1.2.0 (2024-02-20)

**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… DeepSeek æ¨ç†æ¨¡å‹æ”¯æŒ
- âœ… æ€è€ƒæ¨¡å¼åˆ‡æ¢å¼€å…³ï¼ˆé»˜è®¤å…³é—­ï¼‰
- âœ… æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼ˆæ”¯æŒå›¾ç‰‡å’Œæ–‡æ¡£ï¼‰
- âœ… å¤šæ•°æ®åº“æ”¯æŒï¼ˆä¸šåŠ¡ã€Chinookã€Northwindï¼‰
- âœ… æ•°æ®åº“åˆ‡æ¢åŠŸèƒ½ï¼ˆæ¯ä¸ªä¼šè¯ç‹¬ç«‹ï¼‰
- âœ… SQL è¯­å¥æ˜¾ç¤º/æŠ˜å æŒ‰é’®
- âœ… æ•™ç¨‹é¡µé¢ï¼ˆ6 ä¸ªè¯¦ç»†æ­¥éª¤ï¼‰
- âœ… åŠŸèƒ½ç‰¹æ€§é¡µé¢ï¼ˆ12 ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼‰
- âœ… æ›´æ–°æ—¥å¿—é¡µé¢ï¼ˆç‰ˆæœ¬å†å²ï¼‰

**ä¼˜åŒ–æ”¹è¿›**ï¼š
- ğŸ¨ ä¼˜åŒ– AI æ€è€ƒè¿‡ç¨‹å±•ç¤ºï¼ˆé»˜è®¤æŠ˜å ï¼‰
- ğŸ¨ æ”¹è¿›æµå¼å“åº”æ€§èƒ½
- ğŸ¨ ä¼˜åŒ–ä¼šè¯ç®¡ç†ä½“éªŒ

**é—®é¢˜ä¿®å¤**ï¼š
- ğŸ› ä¿®å¤æ–°å»ºä¼šè¯åå¯¹è¯æ æœªæ¸…ç©ºé—®é¢˜
- ğŸ› ä¿®å¤åˆ é™¤ä¼šè¯åèŠå¤©åŒºä»æ˜¾ç¤ºæ—§æ¶ˆæ¯
- ğŸ› ä¿®å¤åˆ‡æ¢ä¼šè¯æ—¶èŠå¤©å†…å®¹ä¸æ›´æ–°
- ğŸ› ä¿®å¤ SQL å…³é”®å­—è¡¨åå¯¼è‡´è¯­æ³•é”™è¯¯
- ğŸ› ä¿®å¤ HTML å®ä½“ç¼–ç é—®é¢˜
- ğŸ› ä¿®å¤é‡å¤ key å¯¼è‡´çš„ React è­¦å‘Š

### v1.1.0 (2024-02-10)

**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… Streamable HTTP æ›¿ä»£ SSE
- âœ… å¤šä¸ªå¤æ‚ç³»ç»Ÿæµ‹è¯•é—®é¢˜

**ä¼˜åŒ–æ”¹è¿›**ï¼š
- ğŸ¨ ä¼˜åŒ– AI æç¤ºè¯
- ğŸ¨ æ”¹è¿›é”™è¯¯å¤„ç†æœºåˆ¶
- ğŸ¨ ä¼˜åŒ–æ•°æ®åº“è¿æ¥æ± ç®¡ç†

**é—®é¢˜ä¿®å¤**ï¼š
- ğŸ› ä¿®å¤ Northwind æ•°æ®åº“ token è¶…é™é—®é¢˜
- ğŸ› ä¿®å¤æµå¼è¾“å‡ºé‡å¤åˆ›å»ºæ¶ˆæ¯
- ğŸ› ä¿®å¤æ•°æ®åº“è¿æ¥å¤±è´¥å¤„ç†

### v1.0.0 (2024-01-20)

**åˆå§‹å‘å¸ƒ**ï¼š
- âœ… DataPulse æ™ºèƒ½æ•°æ®åˆ†æç³»ç»Ÿ
- âœ… è‡ªç„¶è¯­è¨€æŸ¥è¯¢æ•°æ®åº“
- âœ… å®æ—¶æ•°æ®å¯è§†åŒ–
- âœ… ä¼šè¯ç®¡ç†åŠŸèƒ½
- âœ… å“åº”å¼è®¾è®¡

---

**æœ€åæ›´æ–°**: 2026-02-22
**å½“å‰ç‰ˆæœ¬**: v1.2.0

---
